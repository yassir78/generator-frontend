<p-dialog header="Title" [(visible)]="editFieldDialog" [formGroup]="form" [style]="{width: '80vw',height:'auto'}"
    [contentStyle]="{minHeight:'10vh'}" [baseZIndex]="10000">
    <div class="" formArrayName="fields" *ngFor="let item of form.get('fields').controls; let i = index;">
        <div class="p-fluid p-grid" [formGroupName]="i"
            style="border: 5px outset rgba(10, 100, 78, 0.521); padding: 20px; margin: 10px;">

            <div class="p-field p-col-12 p-md-4">
                <span class="p-float-label">
                    <input type="text" id="inputtext" pInputText formControlName="name">
                    <label for="inputtext">Field name</label>
                </span>
            </div>

            <div class="p-field p-col-12 p-md-4">
                <span class="p-float-label">
                    <p-dropdown inputId="category" [autoDisplayFirst]="false" [options]="categories"
                        formControlName="category" optionLabel="name"></p-dropdown>
                    <label for="category">{{fieldToBeEdited.simple?'Simple':'Complexe'}}</label>
                </span>
            </div>

            <div class="p-field p-col-12 p-md-4" *ngIf="fieldToBeEdited.simple">
                <span class="p-float-label">
                    <p-dropdown inputId="generic" [autoDisplayFirst]="false" [options]="pojosNames"
                        formControlName="generic" optionLabel="name"></p-dropdown>
                    <label for="generic">{{fieldToBeEdited.type.name}} </label>
                </span>
            </div>
            <div class="p-field p-col-4 p-md-4" *ngIf="fieldToBeEdited.simple">
                <span class="p-float-label">
                    <h6>Is List</h6>
                    <p-inputSwitch formControlName="isList"></p-inputSwitch>
                </span>
            </div>
            <div class="p-field p-col-12 p-md-4" *ngIf="(fieldToBeEdited.simple?'Simple':'Complexe')=='Simple'">
                <span class="p-float-label">
                    <p-dropdown inputId="simple" [autoDisplayFirst]="false" [options]="typesSimple"
                        formControlName="simple" optionLabel="type"></p-dropdown>
                    <label for="simple">{{fieldToBeEdited.type.name}}</label>
                </span>
            </div>
            <div class="p-field p-col-12 p-md-4">
                <span class="p-float-label">
                    <p-dropdown inputId="idOrReference" [autoDisplayFirst]="false" [options]="idOrReferenceValue"
                        formControlName="idOrReference" optionLabel="name"></p-dropdown>
                    <label for="idOrReference">{{fieldToBeEdited.id?'id':fieldToBeEdited.reference?'ref':'Id
                        OrRef'}}</label>
                </span>
            </div>
        </div>
    </div>
    <button pButton type="submit" label="Edit" (click)="submit()" [disabled]="form.invalid"></button>
    <!--  <button pButton class="p-mr-4" type="button" label="ADD FIELD" (click)="addField()"></button> -->
    <!--     <div class="p-field p-grid">
            <div>
                <div formArrayName="items" *ngFor="let item of form.get('fields').controls; let i = index;">
                    <div [formGroupName]="i">
                        <input formControlName="fieldName" placeholder="Item name">
                        <input formControlName="categorie" placeholder="Item description">
                        <input formControlName="type" placeholder="Item price">
                        <input formControlName="isList" placeholder="Item price">
                    </div>
                </div>
            </div>
           
        </div> -->
</p-dialog>